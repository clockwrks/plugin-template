var h=require("enmity/api/common");function S(o){window.enmity.plugins.registerPlugin(o)}function p(o){return window.enmity.patcher.create(o)}const v=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const F=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme;const T=window.enmity.modules.common.Linking,C=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function a(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;function R(o,t,n){return window.enmity.settings.get(o,t,n)}var c="AvatarChanger",d="1.0.0",A="Changes your client-side profile picture to that of a specified Discord user ID.",I=[{name:"SerStars",id:"861631850681729045"}],U="#000001",b={id:"targetUserId",name:"Target User ID",type:"text"},l={name:c,version:d,description:A,authors:I,color:U,settings:b};const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const f=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch;const E=e.Text;e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon;const D=e.FormInput;e.FormLabel,e.FormRadio;const i=e.FormRow,u=e.FormSection;e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function L(o){return window.enmity.assets.getIDByName(o)}const N=L("img_account_sync_github_white");var x=({settings:o})=>{h.useTheme();const t=C.create({footer:{color:v.ThemeColorMap.HEADER_SECONDARY,textAlign:"center",paddingTop:10,paddingBottom:20}});return React.createElement(f,null,React.createElement(u,{title:"AVATAR CHANGER SETTINGS"},React.createElement(D,{label:"Target User ID",placeholder:"Enter Discord User ID",value:o.get("targetUserId",""),onChange:n=>o.set("targetUserId",n)})),React.createElement(u,{title:"INFORMATION"},React.createElement(i,{label:"Check the Source Code on GitHub",trailing:i.Arrow,leading:React.createElement(i.Icon,{source:N}),onPress:()=>{T.openURL("https://github.com/SerStars/HideMessageShortcuts")}})),React.createElement(E,{style:t.footer},`v${d}`))};const w=p(l.name),B={...l,onStart(){var o;const{UserStore:t}=a("getCurrentUser","getUsers"),n=a("getUserAvatarURL","isBot"),r=(o=t==null?void 0:t.getCurrentUser())==null?void 0:o.id,s=R(c,"targetUserId","");if(!n||!r){console.error("AvatarChanger: Required modules or user ID not found.");return}s&&w.instead(n,"getUserAvatarURL",(k,[m],g)=>{if(m.id===r){const y=m.avatar;return`https://cdn.discordapp.com/avatars/${s}/${y}.png`}else return g(m)})},onStop(){w.unpatchAll()},getSettingsPanel({settings:o}){return F.createElement(x,{settings:o})}};S(B);
